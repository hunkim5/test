<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.airpremia.eosh.education.repository.EducationAttendUserRepository">

    <select id="selectEducationAttendUserList" resultType="EducationAttendUserDto">
           SELECT education_attend_user_seq
           ,education_seq
           ,user_id
           ,user_name
           ,department_id
           ,department_name
           ,signature_bool
        FROM education_attend_user
        <where>
                AND education_seq = #{educationSeq}
        </where>
    </select>


    <insert id="insertEducationAttendUser" useGeneratedKeys="true" keyProperty="educationAttendUserSeq">
        INSERT INTO education_attend_user(
            education_seq
            ,user_id
            ,user_name
            ,department_id
            ,department_name
            ,signature_bool
            ,insert_ip
            ,insert_user_id)
        VALUES (
            #{educationSeq}
            ,#{userId}
            ,#{userName}
            ,#{departmentId}
            ,#{departmentName}
            ,#{signatureBool}
            ,#{insertIp}
            ,#{insertUserId})
    </insert>

    <update id="updateEducationAttendUser">
        UPDATE education_attend_user SET
         user_id = #{userId}
        ,user_name = #{userName}
        ,department_id = #{departmentId}
        ,department_name = #{departmentName}
        ,signature_bool = #{signatureBool}
        ,delete_bool = #{deleteBool}
        ,delete_user_id = #{deleteUserId}
        ,delete_dtm = #{deleteDtm}
        ,delete_ip = #{deleteIp}
        ,update_ip = #{updateIp}
        ,update_user_id = #{updateUserId}
        <where>
            AND education_attend_user_seq = #{educationAttendUserSeq}
        </where>
    </update>

    <update id="deleteEducationAttendUser">
        DELETE
        FROM education_attend_user
        <where>
            AND education_attend_user_seq = #{educationAttendUserSeq}
        </where>
    </update>

    <delete id="deleteAllEducationAttendUser">
        DELETE
        FROM education_attend_user
        <where>
            AND education_seq = #{educationSeq}
        </where>
    </delete>

</mapper>