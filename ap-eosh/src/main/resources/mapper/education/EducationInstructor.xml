<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.airpremia.eosh.education.repository.EducationInstructorRepository">

    <select id="selectEducationInstructorList" resultType="EducationInstructorDto">
        SELECT instructor_seq
            ,education_instructor_seq
            ,education_seq
            ,education_instructor_seq
            ,external_bool
            ,user_id
            ,user_name
            ,department_id
            ,department_name
            ,education_dtm
            ,lecture_name
            ,remark
            ,appoint_dt
            ,delete_bool
            ,delete_user_id
            ,delete_dtm
            ,delete_ip
        FROM education_instructor
        <where>
            education_seq = #{educationSeq}
        </where>
    </select>

    <insert id="insertEducationInstructor" useGeneratedKeys="true" keyProperty="educationInstructorSeq">
        INSERT INTO education_instructor
        (
         instructor_seq
        ,education_seq
        ,education_instructor_seq
        ,external_bool
        ,user_id
        ,user_name
        ,department_id
        ,department_name
        ,education_dtm
        ,lecture_name
        ,appoint_dt
        ,delete_bool
        ,delete_user_id
        ,delete_dtm
        ,delete_ip
        ,insert_ip
        ,insert_user_id)
 VALUES
        (
         #{instructorSeq}
        ,#{educationSeq}
        ,#{educationInstructorSeq}
        ,#{externalBool}
        ,#{userId}
        ,#{userName}
        ,#{departmentId}
        ,#{departmentName}
        ,#{educationDtm}
        ,#{lectureName}
        ,#{appointDt}
        ,#{deleteBool}
        ,#{deleteUserId}
        ,#{deleteDtm}
        ,#{deleteIp}
        ,#{insertIp}
        ,#{insertUserId})
    </insert>

    <update id="updateEducationInstructor">
        UPDATE education_instructor SET
            external_bool = #{externalBool}
            ,user_id = #{userId}
            ,user_name = #{userName}
            ,department_id = #{departmentId}
            ,department_name = #{departmentName}
            ,appoint_dt = #{appointDt}
            ,education_dtm = #{educationDtm}
            ,lecture_name = #{lectureName}
            ,remark = #{remark}
            ,delete_bool = #{deleteBool}
            ,delete_user_id = #{deleteUserId}
            ,delete_dtm = #{deleteDtm}
            ,delete_ip = #{deleteIp}
            ,update_ip = #{updateIp}
            ,update_user_id = #{updateUserId}
        <where>
            education_instructor_seq = #{educationInstructorSeq}
        </where>
    </update>

    <delete id="deleteEducationInstructor">
        DELETE
        FROM education_instructor
        <where>
            AND education_instructor_seq IN
            <foreach item="educationInstructorSeq" collection="educationInstructorSeqs" open="(" separator="," close=")">
                #{educationInstructorSeq}
            </foreach>
        </where>
    </delete>

    <select id="selectEducationInstructorUserNames" resultType="EducationInstructorUserNamesDto">
        SELECT education_seq
        	,user_name
        FROM education_instructor
        <where>
            AND education_seq IN
            <foreach item="educationSeq" collection="educationSeqs" open="(" separator="," close=")">
                #{educationSeq}
            </foreach>
        </where>
    </select>

    <delete id="deleteAllEducationInstructor">
        DELETE
        FROM education_instructor
        <where>
            AND education_seq = #{educationSeq}
        </where>
    </delete>

</mapper>