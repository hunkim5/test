<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.airpremia.eosh.risk.repository.VersionRiskRepository">
     <select id="selectRiskDetail" resultType="VersionRiskEntity">
           SELECT
                t_mast.risk_version_seq
               ,t_mast.risk_version_yyyy
               ,t_mast.insert_user_id
               ,t_mast.insert_dtm
               ,t_mast.insert_ip
               ,t_mast.update_user_id
               ,t_mast.update_dtm
               ,t_mast.update_ip
           FROM
               version_risk t_mast
           <where>
           and t_mast.risk_version_seq = #{riskVersionSeq}
           </where>
       </select>

   <select id="selectRiskVersionList" resultType="VersionRiskEntity">
        SELECT
             t_mast.risk_version_seq
            ,t_mast.risk_version_yyyy
            ,t_mast.insert_user_id
            ,t_mast.insert_dtm
            ,t_mast.insert_ip
            ,t_mast.update_user_id
            ,t_mast.update_dtm
            ,t_mast.update_ip
        FROM
            version_risk t_mast
        ORDER BY
            t_mast.risk_version_yyyy DESC
    </select>

    <insert id="insertRiskVersion" useGeneratedKeys="true" keyProperty="riskVersionSeq">
        INSERT INTO version_risk
            (  risk_version_yyyy,  insert_user_id, insert_dtm, insert_ip, update_user_id, update_dtm, update_ip )
        VALUES
            (  #{riskVersionYyyy}, #{insertUserId}, #{insertDtm}, #{insertIp}, #{updateUserId}, #{updateDtm}, #{updateIp} )
    </insert>

</mapper>
