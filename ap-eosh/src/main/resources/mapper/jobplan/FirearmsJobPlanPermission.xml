<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.airpremia.eosh.jobplan.repository.FirearmsJobPlanPermissionRepository">
    <select id="selectFirearmsJobPlanPermission" resultType="FirearmsJobPlanPermissionDto">
        SELECT job_seq
           ,first_aid_kit_check_bool
           ,fire_extinguisher_check_bool
           ,eyewash_solution_bool
           ,remark
           ,no_entry_unauthorized_person_confined_space_work_bool
        FROM firearms_job_plan_permission
        <where>
           job_seq = #{jobSeq}
        </where>
    </select>

    <insert id="insertFirearmsJobPlanPermission">
        INSERT INTO firearms_job_plan_permission (
            job_seq
            ,first_aid_kit_check_bool
            ,fire_extinguisher_check_bool
            ,eyewash_solution_bool
            ,remark
            ,no_entry_unauthorized_person_confined_space_work_bool
            ,insert_ip
            ,insert_user_id
            )
        VALUES (
            #{jobSeq}
            ,#{firstAidKitCheckBool}
            ,#{fireExtinguisherCheckBool}
            ,#{eyewashSolutionBool}
            ,#{remark}
            ,#{noEntryUnauthorizedPersonConfinedSpaceWorkBool}
            ,#{insertIp}
            ,#{insertUserId}
            )
    </insert>

    <update id="updateFirearmsJobPlanPermission">
        UPDATE firearms_job_plan_permission
        SET first_aid_kit_check_bool = #{firstAidKitCheckBool}
            ,fire_extinguisher_check_bool = #{fireExtinguisherCheckBool}
            ,eyewash_solution_bool = #{eyewashSolutionBool}
            ,remark = #{remark}
            ,no_entry_unauthorized_person_confined_space_work_bool = #{noEntryUnauthorizedPersonConfinedSpaceWorkBool}
            ,update_ip = #{updateIp}
            ,update_user_id = #{updateUserId}
        <where>
            job_seq = #{jobSeq}
        </where>
    </update>

    <delete id="deleteFirearmsJobPlanPermission">
        DELETE
        FROM firearms_job_plan_permission
        <where>
            job_seq IN (
                <foreach collection="deleteSeqList" item="jobSeq" separator=",">
                    #{jobSeq}
                </foreach>
            )
        </where>
    </delete>
</mapper>