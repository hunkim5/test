<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.airpremia.eosh.jobplan.repository.SafetyHealthMeasuresRequirementsRepository">
    <select id="selectSafetyHealthMeasuresRequirements" resultType="SafetyHealthMeasuresRequirementsDto">
        SELECT
        	 safety_health_measures_requirements_seq
        	,job_seq
        	,job_employee_seq
        	,check_item_code
        	,check_item_bool
        	,check_item_remark
        	,check_dt
        FROM
        	safety_health_measures_requirements
        <where>
            job_seq = #{jobSeq}
        </where>
    </select>

    <insert id="insertSafetyHealthMeasuresRequirementsList">
        INSERT INTO safety_health_measures_requirements (
            job_seq
            ,job_employee_seq
            ,check_item_code
            ,check_item_bool
            ,check_item_remark
            ,check_dt
            ,insert_user_id
            ,insert_ip
            )
        VALUES
            <foreach collection="safetyRequirementList" item="item" separator=", ">
            (
                #{item.jobSeq}
                ,#{item.jobEmployeeSeq}
                ,#{item.checkItemCode}
                ,#{item.checkItemBool}
                ,#{item.checkItemRemark}
                ,#{item.checkDt}
                ,#{item.insertUserId}
                ,#{item.insertIp}
            )
            </foreach>
    </insert>

    <update id="updateSafetyHealthMeasuresRequirements">
        UPDATE safety_health_measures_requirements
        SET job_seq = #{jobSeq}
            ,job_employee_seq = #{jobEmployeeSeq}
            ,check_item_code = #{checkItemCode}
            ,check_item_bool = #{checkItemBool}
            ,check_item_remark = #{checkItemRemark}
            ,check_dt = #{checkDt}
            ,update_user_id = #{updateUserId}
            ,update_dtm = #{updateDtm}
            ,update_ip = #{updateIp}
        <where>
            safety_health_measures_requirements_seq = #{safetyHealthMeasuresRequirementsSeq}
        </where>
    </update>

    <delete id="deleteSafetyHealthMeasuresRequirementsList">
        DELETE
        FROM safety_health_measures_requirements
        <where>
            safety_health_measures_requirements IN
                <foreach item="safetyHealthMeasuresRequirementsSeq" collection="safetyHealthMeasuresRequirementsSeqList" open="(" separator="," close=")">
                    #{safetyHealthMeasuresRequirementsSeq}
                </foreach>
        </where>
    </delete>
</mapper>