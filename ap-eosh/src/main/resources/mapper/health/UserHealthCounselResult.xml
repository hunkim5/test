<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.airpremia.eosh.health.healthcounselresult.repository.UserHealthCounselResultRepository">

    <select id="selectUserHealthCounselResultPage" resultType="UserHealthCounselResultDto">
        SELECT user_health_counsel_result_seq
           ,user_health_counsel_reservation_seq
           ,counsel_dt
           ,incharge_user_id
           ,incharge_user_name
           ,incharge_department_id
           ,incharge_department_name
           ,counsel_target_user_id
           ,counsel_target_user_name
           ,counsel_target_department_id
           ,counsel_target_department_name
           ,birth_dt
           ,sex
           ,hire_dt
           ,shift_bool
           ,contact
           ,normal_special_bool
           ,examination_dt
           ,hazard_agent
           ,health_division
           ,examination_comment
           ,postmortem_manage_comment
           ,work_perform_suitable_bool
           ,etc
           ,past_histrory
           ,special_note
           ,height
           ,weight
           ,bmi
           ,bloodpressure
           ,drinking
           ,smoking
           ,exercise
           ,sleep
           ,counsel_content
           ,`check`
           ,multiple_file_uuid
           ,delete_bool
           ,delete_user_id
           ,delete_dtm
           ,delete_ip
        FROM user_health_counsel_result
        <where>
            AND delete_bool = 0
            <if test="@com.airpremia.esmsfos.core.MybatisUtils@isNotEmpty(searchDto.counselDt)">
                AND counsel_dt = #{searchDto.counselDt}
            </if>
            <if test="@com.airpremia.esmsfos.core.MybatisUtils@isNotEmpty(searchDto.counselTargetUserName)">
                AND counsel_target_user_name = #{searchDto.counselTargetUserName}
            </if>
            <if test="@com.airpremia.esmsfos.core.MybatisUtils@isNotEmpty(searchDto.inchargeUserName)">
                AND incharge_user_name = #{searchDto.inchargeUserName}
            </if>
            <if test="@com.airpremia.esmsfos.core.MybatisUtils@isNotEmpty(searchDto.sex)">
                AND sex = #{searchDto.sex}
            </if>
            <if test="@com.airpremia.esmsfos.core.MybatisUtils@isNotEmpty(searchDto.hazardAgent)">
                AND hazard_agent = #{searchDto.hazardAgent}
            </if>
            <if test="@com.airpremia.esmsfos.core.MybatisUtils@isNotEmpty(searchDto.healthDivision)">
                AND health_division = #{searchDto.healthDivision}
            </if>
        </where>
    </select>

    <select id="selectUserHealthCounselResult" resultType="UserHealthCounselResultDto">
           SELECT user_health_counsel_result_seq
           ,user_health_counsel_reservation_seq
           ,counsel_dt
           ,incharge_user_id
           ,incharge_user_name
           ,incharge_department_id
           ,incharge_department_name
           ,counsel_target_user_id
           ,counsel_target_user_name
           ,counsel_target_department_id
           ,counsel_target_department_name
           ,birth_dt
           ,sex
           ,hire_dt
           ,shift_bool
           ,contact
           ,normal_special_bool
           ,examination_dt
           ,hazard_agent
           ,health_division
           ,examination_comment
           ,postmortem_manage_comment
           ,work_perform_suitable_bool
           ,etc
           ,past_histrory
           ,special_note
           ,height
           ,weight
           ,bmi
           ,bloodpressure
           ,drinking
           ,smoking
           ,exercise
           ,sleep
           ,counsel_content
           ,`check`
           ,multiple_file_uuid
           ,delete_bool
           ,delete_user_id
           ,delete_dtm
           ,delete_ip
        FROM user_health_counsel_result
        WHERE
            user_health_counsel_result_seq = #{userHealthCounselResultSeq}
    </select>

    <insert id="insertUserHealthCounselResult">
        INSERT INTO user_health_counsel_result
        (counsel_dt
        ,incharge_user_id
        ,incharge_user_name
        ,incharge_department_id
        ,incharge_department_name
        ,counsel_target_user_id
        ,counsel_target_user_name
        ,counsel_target_department_id
        ,counsel_target_department_name
        ,birth_dt
        ,sex
        ,hire_dt
        ,shift_bool
        ,contact
        ,normal_special_bool
        ,examination_dt
        ,hazard_agent
        ,health_division
        ,examination_comment
        ,postmortem_manage_comment
        ,work_perform_suitable_bool
        ,etc
        ,past_histrory
        ,special_note
        ,height
        ,weight
        ,bmi
        ,bloodpressure
        ,drinking
        ,smoking
        ,exercise
        ,sleep
        ,counsel_content
        ,`check`
        ,multiple_file_uuid
        ,delete_bool
        ,delete_user_id
        ,delete_dtm
        ,delete_ip
        ,insert_ip
        ,insert_user_id)
 VALUES
        (#{counselDt}
        ,#{inchargeUserId}
        ,#{inchargeUserName}
        ,#{inchargeDepartmentId}
        ,#{inchargeDepartmentName}
        ,#{counselTargetUserId}
        ,#{counselTargetUserName}
        ,#{counselTargetDepartmentId}
        ,#{counselTargetDepartmentName}
        ,#{birthDt}
        ,#{sex}
        ,#{hireDt}
        ,#{shiftBool}
        ,#{contact}
        ,#{normalSpecialBool}
        ,#{examinationDt}
        ,#{hazardAgent}
        ,#{healthDivision}
        ,#{examinationComment}
        ,#{postmortemManageComment}
        ,#{workPerformSuitableBool}
        ,#{etc}
        ,#{pastHistrory}
        ,#{specialNote}
        ,#{height}
        ,#{weight}
        ,#{bmi}
        ,#{bloodpressure}
        ,#{drinking}
        ,#{smoking}
        ,#{exercise}
        ,#{sleep}
        ,#{counselContent}
        ,#{check}
        ,#{multipleFileUuid}
        ,#{deleteBool}
        ,#{deleteUserId}
        ,#{deleteDtm}
        ,#{deleteIp}
        ,#{insertIp}
        ,#{insertUserId})
    </insert>

    <update id="updateUserHealthCounselResult">
        UPDATE user_health_counsel_result SET
        counsel_dt = #{counselDt}
        ,incharge_user_id = #{inchargeUserId}
        ,incharge_user_name = #{inchargeUserName}
        ,incharge_department_id = #{inchargeDepartmentId}
        ,incharge_department_name = #{inchargeDepartmentName}
        ,counsel_target_user_id = #{counselTargetUserId}
        ,counsel_target_user_name = #{counselTargetUserName}
        ,counsel_target_department_id = #{counselTargetDepartmentId}
        ,counsel_target_department_name = #{counselTargetDepartmentName}
        ,birth_dt = #{birthDt}
        ,sex = #{sex}
        ,hire_dt = #{hireDt}
        ,shift_bool = #{shiftBool}
        ,contact = #{contact}
        ,normal_special_bool = #{normalSpecialBool}
        ,examination_dt = #{examinationDt}
        ,hazard_agent = #{hazardAgent}
        ,health_division = #{healthDivision}
        ,examination_comment = #{examinationComment}
        ,postmortem_manage_comment = #{postmortemManageComment}
        ,work_perform_suitable_bool = #{workPerformSuitableBool}
        ,etc = #{etc}
        ,past_histrory = #{pastHistrory}
        ,special_note = #{specialNote}
        ,height = #{height}
        ,weight = #{weight}
        ,bmi = #{bmi}
        ,bloodpressure = #{bloodpressure}
        ,drinking = #{drinking}
        ,smoking = #{smoking}
        ,exercise = #{exercise}
        ,sleep = #{sleep}
        ,counsel_content = #{counselContent}
        ,`check` = #{check}
        ,multiple_file_uuid = #{multipleFileUuid}
        ,delete_bool = #{deleteBool}
        ,delete_user_id = #{deleteUserId}
        ,delete_dtm = #{deleteDtm}
        ,delete_ip = #{deleteIp}
        ,update_ip = #{updateIp}
        ,update_user_id = #{updateUserId}
        <where>
            user_health_counsel_result_seq = #{userHealthCounselResultSeq}
        </where>
    </update>

    <delete id="deleteUserHealthCounselResult">
        DELETE
        FROM user_health_counsel_result
        <where>
            user_health_counsel_result_seq = #{userHealthCounselResultSeq}
        </where>
    </delete>
</mapper>
