<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.airpremia.eosh.personaldetail.basicinfo.repository.UserSafetyOfficeLogRepository">

    <select id="selectUserSafetyOfficeLog" parameterType="UserSafetyOfficeLogDto">
        SELECT user_safety_office_log_seq
        ,user_seq
        ,safety_office_classification_code
        ,appoint_dt
        ,dismiss_dt
        FROM user_safety_office_log
        WHERE user_seq = #{userSeq}
    </select>

    <insert id="insertUserSafetyOfficeLog" parameterType="UserSafetyOfficeLogInsertDto">
        INSERT INTO user_safety_office_log
        (user_seq
         ,safety_office_classification_code
        ,appoint_dt
        ,dismiss_dt
        ,insert_ip
        ,insert_user_id
        ,insert_dtm)
        VALUES
        (#{userSeq}
        ,#{safetyOfficeClassificationCode}
        ,#{appointDt}
        ,#{dismissDt}
        ,#{insertIp}
        ,#{insertUserId}
        ,CURRENT_TIMESTAMP(6));
    </insert>

    <update id="updateUserSafetyOfficeLog">
        UPDATE user_safety_office_log SET
         user_seq = #{userSeq}
        ,safety_office_classification_code = #{safetyOfficeClassificationCode}
        ,appoint_dt = #{appointDt}
        ,dismiss_dt = #{dismissDt}
        ,update_ip = #{updateIp}
        ,update_user_id = #{updateUserId}
        ,update_dtm = CURRENT_TIMESTAMP(6)
        WHERE
            user_safety_office_log_seq = #{userSafetyOfficeLogSeq}
    </update>

    <delete id="deleteUserSafetyOfficeLog">
        DELETE
        FROM user_safety_office_log
        WHERE user_safety_office_log_seq = #{userSafetyOfficeLogSeq};
    </delete>
</mapper>
